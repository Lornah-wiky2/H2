# PUBKEYS
### € Schneier 2015: Applied Cryptography:
#### Protocol Building Blocks
 ### Communications Using Public-Key Cryptography
Public-key cryptography uses two keys. A public key for encryption and a private key for decryption. The public key is shared openly, while the private key remains confidential.
This allows secure communication over insecure channels by ensuring that only the intended recipient can decrypt the message.
It also allows the secure exchange of keys without needing a pre-shared secret, solving the key distribution problem inherent in symmetric cryptography.
Ie: Alice can send Bob a secure message using his public key, which is publicly available. Only Bob can decrypt the message using his private key. This process ensures confidentiality but not authentication of the sender

### Digital Signatures
These provide authentication of the sender and message integrity, ensuring that the message has not been altered and verifying the sender's identity.
This is created by using the sender's private key and can be verified by anyone with access to the sender's public key.
Ie: If Alice signs a message using her private key, Bob can verify this using Alice's public key. The signature is unique to both the message and the signer. Digital signatures also provide non-repudiation, as Alice cannot deny signing the message later.

### Digital Signatures With Encryption
This approach combines encryption with digital signatures to provide both confidentiality and authentication.
Ie: Alice signs the message with her private key, then encrypts it with Bob's public key. Bob decrypts the message with his private key and then verifies the signature with Alice's public key.
This dual-layer approach ensures that only the intended recipient can read the message and verify its authenticity.

### Random and Pseudo-Random Sequence Generation
 Random numbers are crucial for generating keys, initialization vectors, and nonces in cryptographic protocols.

#### True Random vs. Pseudo-Random:
-True Random: Derived from physical processes and unpredictable.
-Pseudo-Random: Generated by algorithms and are deterministic but designed to appear random.
They are used extensively in cryptographic applications where unpredictability is essential for security. These sections outline fundamental concepts in cryptographic protocols, emphasizing secure communication, authentication, and integrity through various cryptographic techniques.

### Reference:
Applied Cryptography: Protocols, Algorithms and Source Code in C, 20th Anniversary Edition 

### € Rosenbaum 2019: Grokking Bitcoin:  
Digital Signatures
Digital signatures are the digital equivalent of handwritten signatures. Instead of being linked to a person, a digital signature relies on a unique random number known as a private key, making it harder to fake. They are used to prove the authenticity and integrity of digital messages or documents.

### How Digital Signatures Work

![HOW IT WORKS](https://github.com/user-attachments/assets/b826d67f-868f-4ba7-8476-fc49f8c793c1)

To use digital signatures, you first create a key pair: This is a private key that you keep secret and a public key that you share with others. For example, if you want to send a cat picture to your friend Fred, you generate these keys.
When you send the cat picture via email, you also create a digital signature by combining your private key with the picture. This signature acts like a seal of authenticity.
When Fred receives your email, he can verify the signature using your public key. If everything checks out, he knows the picture is genuine and hasn’t been altered.

### Key Pair Creation and Usage
Key pairs in cryptography consist of a private key (random numbers used for secure communication), which is kept secret, and a public key (for authentication), which can be shared. They are used for encryption, decryption, and digital signatures. 

### Digital Signature Process
In the digital signature process, a unique hash of a message is created and then encrypted with the private key to form the signature. To verify it, the recipient decrypts the signature using the public key and compares it to a new hash of the original message. If they match, it confirms that the message is authentic and unchanged. This system ensures secure communication and transaction verification in digital environments.

### Application in Cookie Token Transfers
In a workplace scenario, Lisa needs to ensure that cookie tokens (CT) are transferred correctly among employees. To prevent fraud, she requires everyone to digitally sign their requests for token transfers. For instance, when John wants to buy cookies using his tokens:
-He creates his key pair and gives Lisa his public key.
-He writes an email requesting the transfer and signs it with his private key.
-Lisa checks the signature using John’s public key to confirm it’s valid before processing the transfer.

### Key Security
The security of this system heavily relies on keeping the private key safe. If someone steals John’s private key, they could impersonate him and make unauthorized transfers. Therefore, John must protect his private key carefully—if it gets compromised, he could lose access to all his tokens, and no one can help him recover it. In summary, digital signatures enhance security by ensuring that only authorized users can approve transactions, shifting the responsibility for security onto individuals who must safeguard their private keys diligently.

### Karvinen 2023: PGP - Send Encrypted and Signed Message - gpg
GPG seems to be a security tool that's popular among Linux users for keeping messages and files private. From what I've gathered, it works like this: 
First, you create a pair of keys - one public and one private. The public key is like the digital address that you can share with others, while the private key is the secret decoder ring that you keep to yourself. When you want to send a secret message to someone, you use their public key to lock it up. Only they can unlock it with their private key. 
It's like putting your message in a special box that only your friend has the key to open. If you want to prove a message came from you, you can add a digital signature using your private key. Others can check this signature with your public key to make sure it's genuinely from you. 
GPG has different commands for making keys, encrypting and decrypting stuff, and checking signatures. It seems pretty flexible - you can use it for secure emails, protecting important files, or verifying downloads. While I haven't used it myself, it sounds like a handy tool for anyone who wants to keep their digital communications private and secure, especially on Linux systems. 

### a) Pubkey today. Explain how you have used public key cryptography today or yesterday, outside of this homework. In addition to naming the system, identify how different parties use keys in different steps of the system. (Answering this question likely requires finding sources on your own. This subtask does not require tests with a computer.)
Many popular messaging apps like WhatsApp use public key cryptography for end-to-end encryption. The process generally works as follows:
Each user's app generates a public-private key pair. When I start a conversation, my app exchanges public keys with the recipient's app. Each message is encrypted using the recipient's public key. The recipient's app decrypts messages using their private key.
This system ensures that only the intended recipient can read the messages, as the private key never leaves the user's device.

### Reference: 
https://requestly.com/blog/how-whatsapp-ensures-chat-security-with-end-to-end-encryption/ 

Secure Web Browsing: 
Every time someone accesses a website using HTTPS (which is now the standard for most websites), It utilizes public key cryptography.                                
When the browser connects to a website, the server sends its public key as part of its SSL/TLS certificate. It then generates a random symmetric session key and encrypts it using the server's public key. Once the server decrypts the session key using its private key, all further communication is encrypted using this shared symmetric key.

### b) Messaging. Send an encrypted and signed message using PGP, then verify and decrypt it. (You can use folders to simulate users, or use two computers or two different OS users. Don't use Tero as a name of any party, unless that's your given name.)
I am getting multiple errors. Nothing seems to work. 

<img width="637" alt="user not in sudoer file" src="https://github.com/user-attachments/assets/b92f6fb0-dbb0-455e-b931-a1b5de956ab6">

I tried to fix this by doing the following.

![as root](https://github.com/user-attachments/assets/5476d60c-1da7-4e5e-beba-f5cf2437bb2a)

To correct this and grant sudo access to the default user: However, getting the error 

<img width="639" alt="trying to fix error of user name not found in sudoers getting this when i try to edit in root" src="https://github.com/user-attachments/assets/59cce396-c43c-43b9-a07f-8e238d2c0c44">

### c) Other tool. Encrypt a message using a tool other than PGP. Explain how different parties use different keys at different stages of operation. Evaluate the security of the tool you've chosen.
I will briefly talk about signal. 
Signal, is a popular secure messaging application. it uses the Signal Protocol, which provides end-to-end encryption for messages, voice calls, and video calls.
Signal encrypts messages using different keys for each user. When i send a message, my app creates a unique secret key by combining my private key with the recipient's public key. It then uses this secret key to encrypt the message. The recipient's app does the reverse process to decrypt it. This method ensures only the intended recipient can read the message, even if someone intercepts it. Signal is considered very secure because it uses strong encryption and doesn't store messages or keys on its servers.

![signal](https://github.com/user-attachments/assets/82d6a090-1108-48d8-b76d-2641434ff833)

### Reference 
https://signal.org/blog/signal-inside-and-out/

### d) Eve and Mallory. In many crypto stories, Eve is a passive eavesdropper, listening on the wire. Mallory maliciously modifies the messages. Explain how PGP protects against Mallory and Eve. Be specific about what features, which use of keys, and which flags in the command are related to this protection. (This subtasks does not require tests with a computer)
PGP (Pretty Good Privacy) protects against both passive eavesdroppers like Eve and active attackers like Mallory through a combination of encryption, digital signatures, and key management. Let's examine how PGP defends against these threats:

### Protection against Eve (Passive Eavesdropper)
PGP protects against people like Eve through encryption, ensuring the confidentiality of messages. There is the use of  the -e or --encrypt flag in GPG commands for example:
 gpg -o message.gpg -e -r recipient@email.com message
This command encrypts the message for the specified recipient.
### Reference:
https://www.dummies.com/article/technology/computers/operating-systems/linux/linux-security-basics-how-to-encrypt-and-sign-files-with-gnupg-255864/ 

### Protection against Mallory (Active Attacker)
PGP defends against Mallory's attempts to modify messages through digital signatures and message integrity checks. There is the use of the -s or --sign flag to sign messages
For example: gpg -o message.sig -s message
This command signs the message, allowing the recipient to verify its integrity and authenticity.

### NOTE: 
Public keys are used for encryption and signature verification
Private keys are used for decryption and creating signatures 

### Reference:
https://linuxsecurity.com/features/pgp-key-signing-observations-overlooked-social-and-technical-considerations 

### f) Password management. Demonstrate the use of a password manager. What kind of attacks take advantage of people not using password managers? (You can use any password manager, some examples include pass and KeePassXC.)
I am familiar with 1 password.
When using 1Password as a password manager, I created a strong master password to secure my vault and used 1Password to generate and store unique, complex passwords for each of my online accounts. 
When logging into my email, I click the 1Password browser extension, which automatically fills in my credentials. As I create new accounts or update existing ones, 1Password seamlessly generates and saves strong passwords, eliminating the need for me to remember multiple complex passwords or resort to using weak, repetitive ones. 
This reduces my vulnerability to common password-related attacks such as credential stuffing, dictionary attacks, and brute-force attempts.

